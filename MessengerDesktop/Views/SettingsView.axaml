<UserControl xmlns="https://github.com/avaloniaui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:vm="using:MessengerDesktop.ViewModels"
			 xmlns:controls="using:MessengerDesktop.Controls"
			 x:Class="MessengerDesktop.Views.SettingsView"
			 x:DataType="vm:SettingsViewModel"
			 Background="{DynamicResource PrimaryBG}">

	<Border Classes="PageContainer">
		<ScrollViewer VerticalScrollBarVisibility="Auto"
					  HorizontalScrollBarVisibility="Disabled"
					  Classes="ThinScrollbar">
			<Border Padding="32,24,32,56">
				<StackPanel MaxWidth="560"
							HorizontalAlignment="Center"
							Spacing="24">

					<StackPanel Spacing="4">
						<TextBlock Text="Настройки" Classes="PageTitle"/>
						<TextBlock Text="Параметры внешнего вида и поведения приложения"
								   FontSize="13"
								   Foreground="{DynamicResource TextSecondary}"/>
					</StackPanel>

					<StackPanel Spacing="12">
						<TextBlock Text="Внешний вид" Classes="SectionHeader Large"/>

						<Border Classes="SettingsSection">
							<StackPanel Spacing="16">
								<StackPanel Spacing="2">
									<TextBlock Text="Тема оформления"
											   FontWeight="Medium"
											   FontSize="14"/>
									<TextBlock Text="Выберите предпочтительную цветовую схему"
											   FontSize="12"
											   Foreground="{DynamicResource TextSecondary}"/>
								</StackPanel>

								<controls:ThemeSelectorControl
								SelectedTheme="{Binding SelectedTheme, Mode=TwoWay}"
								Margin="0,8,0,0"/>
							</StackPanel>
						</Border>
					</StackPanel>

					<StackPanel Spacing="12">
						<TextBlock Text="Уведомления" Classes="SectionHeader Large"/>

						<Border Classes="SettingsSection">
							<Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
								<PathIcon Data="{DynamicResource NotificationsIcon}"
										  Width="20" Height="20"
										  Foreground="{DynamicResource TextTertiary}"
										  VerticalAlignment="Center"/>

								<StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="2">
									<TextBlock Text="Push-уведомления"
											   FontWeight="Medium"
											   FontSize="14"/>
									<TextBlock Text="Получать уведомления о новых сообщениях"
											   FontSize="12"
											   Foreground="{DynamicResource TextSecondary}"/>
								</StackPanel>

								<ToggleSwitch Grid.Column="2"
											  IsChecked="{Binding NotificationsEnabled}"
											  VerticalAlignment="Center"/>
							</Grid>
						</Border>
					</StackPanel>

					<StackPanel Spacing="12">
						<TextBlock Text="Данные" Classes="SectionHeader Large"/>

						<Border Classes="SettingsSection">
							<Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
								<PathIcon Data="{DynamicResource DeleteIcon}"
										  Width="20" Height="20"
										  Foreground="{DynamicResource TextTertiary}"
										  VerticalAlignment="Center"/>

								<StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="2">
									<TextBlock Text="Очистить кэш"
											   FontWeight="Medium"
											   FontSize="14"/>
									<TextBlock Text="Удалить локальные данные и освободить место"
											   FontSize="12"
											   Foreground="{DynamicResource TextSecondary}"/>
								</StackPanel>

								<Button Grid.Column="2"
										Content="Очистить"
										Classes="DialogDanger"
										VerticalAlignment="Center"
										Command="{Binding ClearCacheCommand}"/>
							</Grid>
						</Border>
					</StackPanel>

					<StackPanel Spacing="12">
						<TextBlock Text="О приложении" Classes="SectionHeader Large"/>

						<Border Classes="SettingsSection">
							<Grid RowDefinitions="Auto,Auto,Auto" RowSpacing="12">
								<StackPanel Grid.Row="0" Spacing="4">
									<TextBlock Text="ВнутрьСвязь"
											   FontWeight="SemiBold"
											   FontSize="16"/>
									<TextBlock Text="Версия 1.0.0"
											   FontSize="13"
											   Foreground="{DynamicResource TextSecondary}"/>
								</StackPanel>

								<Border Grid.Row="1"
										Height="1"
										Background="{DynamicResource BorderDefault}"/>

								<TextBlock Grid.Row="2"
										   Text="© 2026 Все права защищены"
										   FontSize="12"
										   Foreground="{DynamicResource TextMuted}"/>
							</Grid>
						</Border>
					</StackPanel>

				</StackPanel>
			</Border>
		</ScrollViewer>
	</Border>
</UserControl>