<UserControl xmlns="https://github.com/avaloniaui" 
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:sys="using:System" xmlns:conv="using:MessengerDesktop.Converters" 
			 mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450" 
			 x:Class="MessengerDesktop.Views.MainMenuView" x:Name="Root" 
			 x:DataType="vm:MainMenuViewModel" xmlns:vm="using:MessengerDesktop.ViewModels" 
			 xmlns:asyncImageLoader="clr-namespace:AsyncImageLoader;assembly=AsyncImageLoader.Avalonia" 
			 Background="{DynamicResource PrimaryBG}">


	<UserControl.Resources>
		<sys:Int32 x:Key="Index0">0</sys:Int32>
		<sys:Int32 x:Key="Index1">1</sys:Int32>
		<sys:Int32 x:Key="Index3">3</sys:Int32>
		<sys:Int32 x:Key="Index4">4</sys:Int32>
		<sys:Int32 x:Key="Index5">5</sys:Int32>
		<sys:Int32 x:Key="Index6">6</sys:Int32>
	</UserControl.Resources>

	<UserControl.Styles>
		<Style Selector="Button.ClearButton">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Padding" Value="6"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="CornerRadius" Value="4"/>
		</Style>
		<Style Selector="Button.ClearButton:pointerover">
			<Setter Property="Background" Value="{DynamicResource BorderHover}"/>
		</Style>
	</UserControl.Styles>

	<Grid ColumnDefinitions="73,*">
		<Border Grid.Column="1" Background="{DynamicResource SecondaryBG}"
                Margin="0,47,9,9" CornerRadius="8">
			<ContentControl Content="{Binding CurrentMenuViewModel}"/>
		</Border>

		<!-- Поиск -->
		<Grid Grid.Column="1" ColumnDefinitions="*,Auto,*" Margin="0,-2.5,0,0" VerticalAlignment="Top" ZIndex="100">
			<StackPanel Grid.Column="1" Width="400" MinWidth="200" MaxWidth="600">
				<Border Classes="SearchContainer" Margin="0,8,0,0" Padding="4,0">
					<Grid ColumnDefinitions="Auto,*,Auto">
						<Path Grid.Column="0" Data="{StaticResource SearchIcon}"
                              Width="16" Height="16" Fill="{DynamicResource TextMuted}"
                              Stretch="Uniform" Margin="8,0,6,0" VerticalAlignment="Center"/>
						<TextBox Grid.Column="1" Classes="Borderlesses"
                                 Text="{Binding SearchText, Mode=TwoWay}"
                                 Watermark="Поиск чатов и контактов..."
                                 Padding="4,8" FontSize="14" VerticalContentAlignment="Center"
								 />
						<Button Grid.Column="2" Classes="ClearButton"
                                IsVisible="{Binding HasSearchText}"
                                Command="{Binding ClearSearchCommand}"
                                ToolTip.Tip="Очистить" Margin="0,4,4,4">
							<Path Data="{StaticResource CloseIcon}"
                                  Fill="{DynamicResource TextMuted}" Width="10" Height="10" Stretch="Uniform"/>
						</Button>
					</Grid>
				</Border>
			</StackPanel>
		</Grid>
		<StackPanel Width="67" Orientation="Vertical" Spacing="4">
			<StackPanel Orientation="Horizontal" Margin="10,10,10,5">
				<TextBlock VerticalAlignment="Center"
						   FontWeight="Bold"
						   FontSize="14"
						   Margin="0,5,5,5"
						   HorizontalAlignment="Left">ВнутрьСеть</TextBlock>
			</StackPanel>
			<RadioButton Classes="NavButton" Height="58"
						 Tag="{DynamicResource ChatsIcon}"
						 Content="Чаты"
						 IsChecked="True"
						 Command="{Binding SetItemCommand}"
						 CommandParameter="{StaticResource Index1}"/>
			<RadioButton Classes="NavButton" Height="58"
						 Tag="{DynamicResource ContactsIcon}"
						 Content="Контакты"
						 Command="{Binding SetItemCommand}"
						 CommandParameter="{StaticResource Index5}"/>
			<RadioButton Classes="NavButton" Height="58"
						 Tag="{DynamicResource OrganizationIcon}"
						 Content="Отдел"
						 Command="{Binding SetItemCommand}"
						 CommandParameter="{StaticResource Index6}" IsVisible="{Binding '', 
					 Converter={conv:Converter Name=HasRole}, 
					 ConverterParameter=Admin}"/>
		</StackPanel>

		<StackPanel VerticalAlignment="Bottom" HorizontalAlignment="Center" Margin="0,10" Spacing="4">
			<RadioButton Classes="NavButton" Height="58"
						 Tag="{DynamicResource ProfileIcon}"
						 Content="Профиль"
						 Command="{Binding SetItemCommand}"
						 CommandParameter="{StaticResource Index3}"/>
			<RadioButton Classes="NavButton"
						 Height="58" Width="64"
						 Command="{Binding SetItemCommand}"
						 Tag="{DynamicResource SettingsIcon}"
						 Content="Настройки"
						 CommandParameter="{StaticResource Index0}"/>
			<RadioButton Classes="NavButton"
						 Height="58" Width="64"
						 Command="{Binding SetItemCommand}"
						 CommandParameter="{StaticResource Index4}"
						 Tag="{DynamicResource SettingsIcon}"
						 Content="Админ"
						 IsVisible="{Binding '', 
					 Converter={conv:Converter Name=HasRole}, 
					 ConverterParameter=Admin}"/>
		</StackPanel>
	</Grid>

</UserControl>