<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:MessengerDesktop.ViewModels"
             x:Class="MessengerDesktop.Views.SettingsView"
             x:DataType="vm:SettingsViewModel"
			 xmlns:conv="using:MessengerDesktop.Converters"
             Background="{DynamicResource PrimaryBG}">

	<Border Classes="PageContainer">
		<ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      Classes="ThinScrollbar">
			<Border Padding="32,24">
				<Grid HorizontalAlignment="Center">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*" MaxWidth="600"/>
					</Grid.ColumnDefinitions>

					<StackPanel Spacing="24">
						<TextBlock Text="Настройки" Classes="PageTitle"/>

						<StackPanel Spacing="12">
							<TextBlock Text="Внешний вид" Classes="SectionHeader Large"/>

							<Border Classes="SettingsSection">
								<Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="16">
									<Border Width="40" Height="40"
                                            CornerRadius="10">
										<PathIcon Data="{DynamicResource Info}"
                                                  Width="18" Height="18"
                                                  Foreground="{DynamicResource Accent}"/>
									</Border>

									<StackPanel Grid.Column="1"
                                                VerticalAlignment="Center"
                                                Spacing="2">
										<TextBlock Text="Тема оформления"
                                                   FontWeight="Medium"/>
										<TextBlock Text="Выберите светлую или тёмную тему"
                                                   FontSize="12"
                                                   Foreground="{DynamicResource TextSecondary}"/>
									</StackPanel>

									<ComboBox Grid.Column="2" Classes="DialogCombo"
											  Width="160" ItemsSource="{Binding AvailableThemes}"
											  SelectedItem="{Binding SelectedTheme}" VerticalAlignment="Center">
										<ComboBox.ItemTemplate>
											<DataTemplate>
												<TextBlock Text="{Binding Converter={conv:Converter Name=ThemeToDisplay}}"/>
											</DataTemplate>
										</ComboBox.ItemTemplate>
									</ComboBox>
								</Grid>
							</Border>
						</StackPanel>

						<!-- Поведение -->
						<StackPanel Spacing="12">
							<TextBlock Text="Поведение" Classes="SectionHeader Large"/>

							<Border Classes="SettingsSection">
								<Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="16">
									<Border Width="40" Height="40"
                                            CornerRadius="10">
										<PathIcon Data="{DynamicResource Notifications}"
                                                  Width="18" Height="18"
                                                  Foreground="{DynamicResource WarningBrush}"/>
									</Border>

									<StackPanel Grid.Column="1"
                                                VerticalAlignment="Center"
                                                Spacing="2">
										<TextBlock Text="Уведомления"
                                                   FontWeight="Medium"/>
										<TextBlock Text="Показывать уведомления о новых сообщениях"
                                                   FontSize="12"
                                                   Foreground="{DynamicResource TextSecondary}"/>
									</StackPanel>

									<ToggleSwitch Grid.Column="2"
                                                  IsChecked="{Binding NotificationsEnabled}"
                                                  VerticalAlignment="Center"/>
								</Grid>
							</Border>
						</StackPanel>

						<!-- О приложении -->
						<StackPanel Spacing="12">
							<TextBlock Text="О приложении" Classes="SectionHeader Large"/>

							<Border Classes="SettingsSection">
								<StackPanel Spacing="8">
									<TextBlock Text="Версия: 1.0.0"
                                               FontSize="14"
                                               Foreground="{DynamicResource TextSecondary}"/>
									<TextBlock Text="© 2025 Messenger Desktop"
                                               FontSize="12"
                                               Foreground="{DynamicResource TextMuted}"/>
								</StackPanel>
							</Border>
						</StackPanel>
					</StackPanel>
				</Grid>
			</Border>
		</ScrollViewer>
	</Border>
</UserControl>